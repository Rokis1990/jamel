<?xml version="1.0" encoding="UTF-8"?>

<circuit
	type="jamel.basic.BasicCircuit"
	date="2016-05-09"
	title="Is the market really a good teatcher?"
>

	<settings
		randomSeed="1"
		hasGui="true"
		chartsConfigFile="more/config/panels.xml" />

	<sectors>

		<Industry
			type="jamel.jamel.firms.BasicIndustrialSector"
			agent="jamel.jamel.firms.BasicFirm"
		>
			<settings
				memory="12"
				mutation.strenght="0.05"
				mutation.probability="0.05"
				investment.greediness="0.2"
				debtRatio.target.initialValue.min="0."
				debtRatio.target.initialValue.max="0.9"
				ownerEquities.maximumShareToBeDistributedAsDividend="0.2"
				credit.term.short="12"
				credit.term.long="120"
				inventories.normalLevel="2"
				inventories.propensity2sell="0.5"
				inventories.depreciation.rate="0.0"
				sales.capacity="2"
				sales.normalRate="1"
				labourContract.max="36"
				labourContract.min="6"
				production.capacity="15"
				utilizationRate.flexibility="0.1"
				utilizationRate.initialValue="0.8"
				price.flexibility="0.04"
				vacancy.normalRate="0.03"
				wage.initialValue="50"
				wage.flexibility="0.02"
				wage.observations="3"
				wage.minimum="0" />

			<dependencies>
				<CapitalistSector value="Households" />
				<Banks value="Banks" />
				<Suppliers
					sector="Industry"
					supply="Basic Goods" />
			</dependencies>

			<technology
				machine.creation.input.type="Basic Goods"
				machine.creation.input.volume="500"
				machine.timelife.mean="120"
				machine.timelife.stDev="15"
				production.productivity="100"
				production.type="Basic Goods"
				production.time="4"
			>
			</technology>
		</Industry>

		<Households
			type="jamel.jamel.households.BasicHouseholdSector"
			agent="jamel.jamel.households.BasicHousehold"
		>
			<settings
				wage.resistance="12"
				wage.flexibility="0.05"
				savings.propensityToSave="0.2"
				savings.ratioTarget="0.2"
				savings.propensityToConsumeExcess="0.5"
				jobs.selection="10"
				supplies.selection="10" />
			<dependencies>
				<Suppliers
					value="Industry"
					good="Basic Goods" />
				<Employers value="Industry" />
				<Banks value="Banks" />
			</dependencies>
		</Households>

		<Banks type="jamel.jamel.banks.BasicBankingSector">
			<settings
				taylorRule.coef="2"
				taylorRule.target="0.02"
				capital.targetedRatio="0.1"
				capital.propensityToDistributeExcess="1."
				penalty.premium="0.04"
				recapitalization.debtRatio.target="0.8"
				patience="12"
				accommodating="0" />
			<dependencies>
				<CapitalistSector value="Households" />
			</dependencies>
		</Banks>

	</sectors>

	<phases>
		<Banks action="opening" />
		<Industry action="opening" />
		<Households action="opening" />
		<Banks action="pay_dividend" />
		<Industry action="pay_dividend" />
		<Households action="take_dividends" />
		<Industry action="plan_production" />
		<Households action="job_search" />
		<Industry action="production" />
		<Industry action="investment" />
		<Households action="consumption" />
		<Banks action="debt_recovery" />
		<Banks action="closure" />
		<Industry action="closure" />
		<Households action="closure" />
	</phases>
	<queries>
		<inflation
			value="
				(sum ( Industry , sales.val , t-1 ) 
				* sum ( Industry , sales.vol , t-13 ) 
				: ( sum ( Industry , sales.vol , t-1 ) 
				* sum ( Industry , sales.val , t-13 ) ) 
				-1)" />
	</queries>

	<events>

		<pause period="0" />
		<Households
			period="0"
			event="Create new households"
			size="6000" />

		<Industry
			period="0"
			event="Create new firms"
			size="400" />
		<marker
			period="100"
			marker="100" />
		<pause period="3000" />

	</events>

</circuit>
