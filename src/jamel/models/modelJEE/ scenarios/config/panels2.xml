<?xml version="1.0" encoding="UTF-8"?>

<!-- 22 septembre 2017 -->

<!DOCTYPE gui [
	<!ENTITY refresh "isEqual(t&#37;1, 0)">
	<!ENTITY laps "t"> 
	<!ENTITY aFirm "Firm_0"> 
	<!ENTITY aWorker "Worker_0">
]>

<gui className="jamel.gui.BasicGui">
	<panel title="Main">

		<chart title="Goods Market 1">

			<if>&refresh;</if>

			<series label="Supply" color="red">
				<x>t</x>
				<y>val(Firms, supplyValue, t, sum)</y>
			</series>

			<series label="Demand" color="blue">
				<x>t</x>
				<y>val(Households, consumptionBudget, t, sum)</y>
			</series>

			<series label="Sales" color="green">
				<x>t</x>
				<y>val(Firms, salesValue, t, sum)</y>
			</series>
			
			<yAxis label="Value" />

		</chart>
		
		<chart title="Phillips Curve">

			<if>isEqual(t%12, 0)</if>

			<series
				label="Phillips"
				color="red"
				shapesVisible="true"
				lineColor="gray"
			>
				<x>100 * val(Households, unemployed, t-11...t, sum) / val(Households, count, t-11...t, sum)</x>
				<y>100 * (val(Households, wage, t-11...t, sum) * val(Households, employed,
					t-23...t-12, sum) / (val(Households, wage, t-23...t-12, sum) *
					val(Households, employed, t-11...t, sum))-1)</y>
			</series>
			<xAxis
				label="Unemployment (%)"
				min="0"
				max="60" />
			<yAxis
				label="Inflation (%)"
				min="-10"
				max="30" />

			<legend />

		</chart>
		
		<chart title="Bankruptcies (imitations)">

			<if>isEqual(t%12, 0)</if>

			<series
				label="Imitations"
				color="red"
			>
				<x>t</x>
				<y>val(Firms, imitation, t-11...t, sum)</y>
			</series>

			<yAxis
				label="# Firms"
				min="0"
				max="200" />

		</chart>		
		<col />
		
		<chart title="Labour Market">

			<info>
				Vue synthétique du marché du travail.
			</info>

			<if>&refresh;
			</if>

			<series
				label="Capacity"
				color="blue"
			>
				<x>t</x>
				<y>val(Firms, capacity, t, sum)</y>
			</series>

			<series
				label="Labor demand"
				color="red"
			>
				<x>t</x>
				<y>val(Firms, workforceTarget, t, sum)</y>
			</series>

			<series
				label="Labor supply"
				color="green"
			>
				<x>t</x>
				<y>val(Households, count, t, sum)</y>
			</series>

			<yAxis label="# Jobs" />

		</chart>
		
		<chart title="Beveridge Curve">

			<if>isEqual(t%12, 0)</if>

			<series
				label="Beveridge"
				color="green"
				shapesVisible="true"
				lineColor="gray"
			>
				<x>100 * val(Households, unemployed, t-11...t, sum) / (12*val(Households, count, t, sum))</x>
				<y>100 * val(Firms, vacancies, t-11...t, sum) / val(Firms, capacity, t-11...t, sum)</y>
			</series>

			<xAxis
				label="Unemployment (%)"
				min="0"
				max="60" />

			<yAxis
				label="Vacancies (%)"
				min="0"
				max="30" />

			<legend />

		</chart>		
		<chart title="Interest Rates">

			<if>&refresh;
			</if>

			<series
				label="i (nominal)"
				color="green"
			>
				<x>t</x>
				<y>100*val(Banks, nominalRate, t-11...t, sum)</y>
			</series>
			<series
				label="r (real)"
				color="blue"
			>
				<x>t</x>
				<y>100*val(Banks, realRate, t-11...t, sum)</y>
			</series>
			<series
				label="inflation"
				color="red"
			>
				<x>t</x>
				<y>100*val(Banks, inflation, t, sum)</y>
			</series>

			<yAxis
				label="%"
				integerUnit="true"
				min="-10"
				max="25" />

		</chart>
		
		<col />
		
		<chart title="Firms Debt Ratio">

			<if>&refresh;</if>

			<series
				label="Average"
				color="green"
			>
				<x>t</x>
				<y>100 * val(Firms, liabilities, t, sum) / val(Firms, assets, t, sum)</y>
			</series>

			<series
				label="Min"
				color="veryLightGreen"
			>
				<x>t</x>
				<y>100 * val(Firms, debtRatio, t, min)</y>
			</series>

			<series
				label="Max"
				color="veryLightGreen"
			>
				<x>t</x>
				<y>100 * val(Firms, debtRatio, t, max)</y>
			</series>

			<series
				label="Target"
				color="red"
			>
				<x>t</x>
				<y>100 * val(Firms, debtRatioTarget, t, sum) / val(Firms, count, t, sum)</y>
			</series>

			<series
				label="Weighted"
				color="blue"
			>
				<x>t</x>
				<y>100 * val(Firms, liabilitiesTarget, t, sum) / val(Firms, assets,
					t, sum)</y>
			</series>
			<yAxis
				label="%"
				min="0"
				max="100" />

		</chart>
		
		<chart title="Firm Sizes">

			<info>
				La taille des firmes, mesurée en nombre de machines.
			</info>

			<if>&refresh;
			</if>

			<series
				label="Average"
				color="red"
			>
				<x>t</x>
				<y>val(Firms, capacity, t, sum) / val(Firms, count, t, sum)</y>
			</series>

			<series
				label="Min"
				color="pink"
			>
				<x>t</x>
				<y>val(Firms, capacity, t, min)</y>
			</series>

			<series
				label="Max"
				color="pink"
			>
				<x>t</x>
				<y>val(Firms, capacity, t, max)</y>
			</series>

			<yAxis
				label="# Machines"
				min="0"
				max="200" />

		</chart>
		
		<chart title="Goods Market 2">

			<if>&refresh;</if>

			<series
				label="Production"
				color="red"
			>
				<x>t</x>
				<y>val(Firms, productionVolume, &laps;, sum)</y>
			</series>

			<series
				label="Sales"
				color="blue"
			>
				<x>t</x>
				<y>val(Firms, salesVolume, &laps;, sum)</y>
			</series>

			<series
				label="Consumption"
				color="green"
			>
				<x>t</x>
				<y>val(Households, consumptionVolume, &laps;, sum)</y>
			</series>

			<yAxis label="Volume" />

		</chart>
		
		<col />
		
		<empty/>
		
		<chart title="Investment">

			<if>&refresh;</if>

			<series label="Investment" color="green">
				<x>t</x>
				<y>100 * val(Firms, investmentSize, t, sum) / val(Firms, capacity, t-1, sum)</y>
			</series>

			<yAxis label="%" min="0" max="2" />

		</chart>
		
		
		<empty/>
		
		
	</panel>
	
	<panel title="Panel 2">
		
		<chart title="Goods Market 1">

			<if>&refresh;</if>

			<series
				label="Supply"
				color="red"
			>
				<x>t</x>
				<y>val(Firms, supplyValue, t, sum)
				</y>
			</series>

			<series
				label="Demand"
				color="blue"
			>
				<x>t</x>
				<y>val(Households, consumptionBudget, t, sum)</y>
			</series>

			<yAxis label="Value" />

		</chart>
		
		<empty />
		
		<empty />
		
		<col/><chart title="Goods Market 3">

			<if>&refresh;</if>

			<series label="Sales" color="red">
				<x>t</x>
				<y>val(Firms, salesValue, t, sum)
				</y>
			</series>

			<series label="Consumption" color="blue">
				<x>t</x>
				<y>val(Households, consumptionValue, t, sum)</y>
			</series>

			<yAxis label="Value" />

		</chart>
		
		<empty /><empty />
		
		<col/>
	
		<empty />
		
	</panel>

	<panel title="About">
		<html src="about.xml" />
	</panel>

</gui>
